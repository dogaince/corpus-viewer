{% load staticfiles %}
<!DOCTYPE html>
<html>
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="{% static 'viewer/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'viewer/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'viewer/css/formats_documentation.css' %}">
    <!-- <link rel="stylesheet" href="{% static 'viewer/css/default.css' %}"> -->
    <link rel="stylesheet" href="{% static 'viewer/css/monokai-sublime.css' %}">
    <link rel="stylesheet" href="{% static 'dashboard/css/formats.css' %}">
    <!-- Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous"> -->
  </head>
<body data-spy="scroll" data-target="#navigationtest">
    <nav class="navbar navbar-toggleable-md navbar-light bg-faded">
        <div class="container">
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="{% url 'dashboard:index' %}">Corpus-Viewer</a>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'viewer:documentation' %}">Documentation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'dashboard:index' %}">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'viewer:index' %}">Viewer</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row">
            <div class="col">
                <h1>Documentation</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-9">
                <div class="alert alert-info" role="alert">
                    This documentation describes the usage of the corpus-viewer. To get information about the installation please refer to the <a href="https://git.webis.de/webisstud/wstud-viewer-framework-django" class="alert-link">gitlab-page</a>.
                </div>
                <h2 id="link_add_new_corpus">Add a new corpus</h2>
                <p>
                    To add a new corpus to the viewer on <a href="{{ url_host }}">{{ name_host }}</a> you'll have to do the following steps:
                    <ol>
                        <li>Make your corpus accessible to {{ name_host }}</li>
                        <li>Create your settings file for your corpus</li>
                        <li>Feed your settings file into the server</li>
                    </ol>
                    <h3 id="link_make_corpus_accessible">Make corpus accessible</h3>
                    <p>
                        You'll have to specify the data path to the corpus data in the <a href="#link_create_settings_file">settings file</a>. 
                        This means that you have to make the corpus accessible to the host, either by directly copying the corpus to {{ name_host }} or by mounting the corpus to {{ name_host }}. 
                    </p>

                    <h3 id="link_create_settings_file">Create settings file</h3>
                    <p>
                        To add your corpus to the viewer, you have to tell the viewer how to load your corpus, which data of your corpus you want to be displayed, which filters you would like to have to discover your data and a lot more.
                        All these informations are stored in the settings file, written in Python.
                    </p>
                    <p>
                        Mainly the settings file consists of a python dictionary which has to be called 'DICT_SETTINGS_VIEWER'. The keys specify the names of the settings and the values the corresponding values.
                    </p>
                    <h4>Options</h4>
                    <p>
                        The following table lists all required and optional key-value-pairs in the dictionary.
                    </p>
                    <table class="table table-sm table-striped table-responsive table-bordered">
                        <thead>
                            <tr>
                                <th>Key</th>
                                <th>Type</th>
                                <th>Necessity</th>
                                <th>default</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>name</td>
                                <td>string</td>
                                <td class="text-danger">required</td>
                                <td></td>
                                <td><p>The name of the corpus. This name will appear on the overview of all corpora and on the viewer-page itself.</p></td>
                            </tr>
                            <tr>
                                <td>description</td>
                                <td>string</td>
                                <td class="text-success">optional</td>
                                <td>''</td>
                                <td>
                                    <p>A description of the corpus. This description will appear on the overview of all corpora to help users to manage the corpora.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>data_type</td>
                                <td>string</td>
                                <td class="text-danger">required</td>
                                <td></td>
                                <td>
                                    <p>Possible values: <code>'csv-file'</code>, <code>'ldjson-file'</code> or <code>'custom'</code></p>
                                </td>
                            </tr>
                            <tr>
                                <td>data_path</td>
                                <td>string</td>
                                <td class="text-warning">depends</td>
                                <td></td>
                                <td>
                                    <p>Required if the <code>data_type</code> is either <code>'csv-file'</code> or <code>'ldjson-file'</code></p>
                                    <p>Path to the file of the corpus.</p>
                                    <p>If this path is relative, it describes the location of the file relative to the directory of the server/django-project</p>
                                </td>
                            </tr>
                            <tr>
                                <td>data_structure</td>
                                <td>list</td>
                                <td class="text-warning">depends</td>
                                <td></td>
                                <td>
                                    <p>Required if the <code>data_type</code> is either <code>'csv-file'</code> or <code>'ldjson-file'</code></p>
                                    <p>
                                        A list of strings. Each string specifies one attribute of the data.
                                    </p>
                                    <p>
                                        If <code>data_type</code> is <code>'csv-file'</code>, the order of the attributes has to correspond to the order of rows in the file. 
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>load_data_function</td>
                                <td>function</td>
                                <td class="text-warning">depends</td>
                                <td></td>
                                <td>
                                    <p>Required if the <code>data_type</code> is <code>'custom'</code></p>
                                    <p>
                                        This function is used to load the data from your corpus and has to be specified in the settings file.
                                    </p>
                                    <p>
                                        This function has to return a list of dictionaries. Each dictionary corresponds to one item in the corpus.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>use_cache</td>
                                <td>boolean</td>
                                <td class="text-success">optional</td>
                                <td>False</td>
                                <td>
                                    <p>
                                        Determines whether the corpus is cached once loaded or if it's loaded each time a request to the server is made.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>data_fields</td>
                                <td>dictionary</td>
                                <td class="text-danger">required</td>
                                <td></td>
                                <td>
                                    <p>
                                        This dictionary contains all data fields which should be registered to the viewer.
                                    </p>
                                    <p>
                                        The key specifies the name of the field and the value is a <a href="#link_data_fields">data field</a>
                                    </p>
                                    <p>
                                        The specified data fields are a subset of the attributes in the corpus.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>id</td>
                                <td>string</td>
                                <td class="text-danger">required</td>
                                <td></td>
                                <td>
                                    <p>
                                        Specifies the data field considered as the ID of the corpus. The values of the field should be unique.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>displayed_fields</td>
                                <td>list</td>
                                <td class="text-danger">required (?)</td>
                                <td></td>
                                <td>
                                    <p>
                                        A list of data field names which should be displayed in the viewer.
                                    </p>
                                    <p>
                                        The specified data fields are a subset of the data fields specified in <code>data_field</code>.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>page_size</td>
                                <td>int</td>
                                <td class="text-success">optional</td>
                                <td>25</td>
                                <td>
                                    <p>
                                        This number specifies the amount of items showed on one page in the viewer.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>filters</td>
                                <td>list</td>
                                <td class="text-success">optional</td>
                                <td>[]</td>
                                <td>
                                    <p>
                                        A list of <a href="#link_filters">filter</a> objects which should be available in the viewer.
                                    </p>
                                    <p>
                                        The order of the filters determine the order of appearance in the viewer.
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <h4 id="link_data_fields">Data Fields</h4>
                    <table class="table table-sm table-striped table-responsive table-bordered">
                        <thead>
                            <tr>
                                <th>Key</th>
                                <th>Type</th>
                                <th>Necessity</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>type</td>
                                <td>string</td>
                                <td class="text-danger">required</td>
                                <td>
                                    <p>
                                        Possible values:<br>
                                            <code>'int'</code>
                                            Use this for any numeric value<br>
                                            <code>'string'</code>
                                            Use this for short strings. They won't be wrapped in the viewer.<br>
                                            <code>'text'</code>
                                            Use this for long string. They will be truncated in the viewer and one can hover over or click on the respective column to expand the whole text.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>display_name</td>
                                <td>string</td>
                                <td class="text-danger">required</td>
                                <td>
                                    <p>
                                        This will be the displayed name of the corresponding column in the viewer.
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <h4 id="link_filters">Filters</h4>
                    <table class="table table-sm table-striped table-responsive table-bordered">
                        <thead>
                            <tr>
                                <th>Key</th>
                                <th>Type</th>
                                <th>Necessity</th>
                                <th>Default</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>data_field</td>
                                <td>string</td>
                                <td class="text-danger">required</td>
                                <td></td>
                                <td>
                                    <p>
                                        This specifies the data field the filter should be applied to.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>name</td>
                                <td>string</td>
                                <td class="text-danger">required</td>
                                <td></td>
                                <td>
                                    <p>
                                        This will be the displayed name of the filter in the viewer.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>placeholder</td>
                                <td>string</td>
                                <td class="text-success">optional</td>
                                <td>''</td>
                                <td>
                                    <p>
                                        This specifies the placholder displayed inside of the input field.
                                    </p>
                                </td>
                            </tr>
                            <tr>
                                <td>default_value</td>
                                <td>string</td>
                                <td class="text-success">optional</td>
                                <td>''</td>
                                <td>
                                    <p>
                                        This specifies the default value which should be automatically inserted into the input field.
                                    </p>
                                </td>
                            </tr>
                        </tbody>
                    </table>

<!-- <pre><code class="python">print('something') 
for d in s: 
d
</code></pre> -->
                    
                    <h3 id="link_add_settings_file">Add settings file</h3>
                    
                </p>
            </div>
            <div class="col">
                <ul class="nav flex-column" id="navigationtest">
                    <li class="nav-item">
                        <a class="nav-link" href="#link_add_new_corpus">Add a new corpus</a>
                    </li>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="#link_make_corpus_accessible">Make corpus accessible</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#link_create_settings_file">Create settings file</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#link_add_settings_file">Add settings file</a>
                        </li>
                    </ul>
                    <li class="nav-item">
                        <a class="nav-link" href="#testc">Link</a>
                    </li>
                </ul>
            </div>
        </div>

    <script src="{% static 'viewer/js/jquery-3.1.1.min.js' %}"></script>
    <script src="{% static 'viewer/js/tether.js' %}"></script>
    <script src="{% static 'viewer/js/bootstrap.js' %}"></script>
    <script src="{% static 'viewer/js/helper_functions.js' %}"></script>
    <script src="{% static 'viewer/js/tags.js' %}"></script>
    <script src="{% static 'viewer/js/highlight.pack.js' %}"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!-- <link rel="stylesheet" type="text/css" href="{% static 'viewer/css/formats.css' %}" /> -->
    {% include "viewer/footer.html" %}